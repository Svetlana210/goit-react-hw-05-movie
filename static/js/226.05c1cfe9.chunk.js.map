{"version":3,"file":"static/js/226.05c1cfe9.chunk.js","mappings":"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","sources":["api.js","webpack://react-homework-template/./src/components/Button/button.module.css?6dda","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesList/movies-list.module.css?3466","components/MoviesList/MoviesList.jsx","components/checkPoster/checkPoster.js","webpack://react-homework-template/./src/components/SearchForm/search-form.module.css?4214","components/SearchForm/SearchForm.jsx","webpack://react-homework-template/./src/pages/Movies/movies.module.css?e50d","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'ccd726dee91d403c616acd8dbc070a9c',\n  },\n});\n\nexport const searchMovies = async (page = 1, period = 'week') => {\n  const { data } = await instance.get(`/trending/movie/${period}`, {\n    params: { page },\n  });\n  return data.results;\n};\n\nexport const searchMoviesByWord = async (query, page = 1) => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: { query, page },\n  });\n  return data.results;\n};\n\nexport const searchMoviesDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {});\n  return data;\n};\n\nexport const searchMoviesCast = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {});\n  return data;\n};\nexport const searchMoviesReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {});\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__rr3yo\"};","import styles from './button.module.css';\nimport PropTypes from 'prop-types';\nconst Button = ({ onClick }) => {\n  return (\n    <button className={styles.button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"movies-list_link__nBtgH\",\"wrap\":\"movies-list_wrap__lBX16\",\"textcontainer\":\"movies-list_textcontainer__EBWVI\",\"list\":\"movies-list_list__QsEHr\",\"texttitle\":\"movies-list_texttitle__4PaOm\",\"vote\":\"movies-list_vote__URjjD\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './movies-list.module.css';\nimport { checkPoster } from 'components/checkPoster/checkPoster';\nimport { PropTypes } from 'prop-types';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(\n    ({ id, title, poster_path, release_date = '', vote_average }) => (\n      <li key={id} className={styles.item}>\n        <Link\n          to={`/movies/${id}`}\n          state={{ from: location }}\n          className={styles.link}\n        >\n          <div className={styles.wrap}>\n            <img\n              src={checkPoster(poster_path)}\n              alt={title}\n              width=\"240\"\n              height=\"345\"\n            />\n            <p className={styles.vote}>{Math.round(vote_average * 10)}%</p>\n            <div className={styles.textcontainer}>\n              <p className={styles.texttitle}>{title}</p>\n              <p className={styles.text}>{release_date.substring(0, 4)}</p>\n            </div>\n          </div>\n        </Link>\n      </li>\n    )\n  );\n  return <ul className={styles.list}>{elements}</ul>;\n};\n\nMoviesList.defaultProps = {\n  items: [],\n};\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n\nexport default MoviesList;\n","import noPoster from '../MovieDetailsInfo/no-poster-available.png';\nimport noImage from '../../pages/Cast/no-image.png';\n\nexport const checkPoster = img => {\n  if (img) {\n    return `https://image.tmdb.org/t/p/w500/${img}`;\n  }\n  return noPoster;\n};\n\nexport const checkImage = img => {\n  if (img) {\n    return `https://image.tmdb.org/t/p/w500/${img}`;\n  }\n  return noImage;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"search-form_form__+aeW5\",\"button\":\"search-form_button__G6G9+\",\"label\":\"search-form_label__tBgoZ\",\"input\":\"search-form_input__amXEk\"};","import { useState } from 'react';\nimport { PropTypes } from 'prop-types';\n\nimport styles from './search-form.module.css';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState('');\n\n  const handleChange = e => {\n    const { value } = e.target;\n    setState(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(state);\n    setState('');\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <input\n        className={styles.input}\n        value={state}\n        type=\"text\"\n        name=\"q\"\n        onChange={handleChange}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movie\"\n        required\n      />\n      <button type=\"submit\" className={styles.button}>\n        <span className={styles.label}>Search</span>\n      </button>\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default SearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"movies_title__t3k-B\",\"container\":\"movies_container__x18p+\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { searchMoviesByWord } from 'api';\nimport Button from '../../components/Button/Button';\nimport Loader from 'components/Loader/Loader';\n\nimport styles from './movies.module.css';\n\nconst Movies = () => {\n  const [items, setItems] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  useEffect(() => {\n    const fetchMoviesByWord = async () => {\n      setLoading(true);\n      try {\n        const data = await searchMoviesByWord(search, page);\n        setItems(prevItems => [...prevItems, ...data]);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (search) {\n      fetchMoviesByWord();\n    }\n  }, [search, page]);\n\n  const onSearchMovies = search => {\n    setSearchParams({ search, page: 1 });\n    setItems([]);\n  };\n  const loadMore = () => {\n    setSearchParams({ search, page: Number(page) + 1 });\n  };\n\n  return (\n    <div className={styles.container}>\n      {loading && <Loader />}\n      {error && <p>Error</p>}\n      <SearchForm onSubmit={onSearchMovies} />\n      <MoviesList items={items} />\n      {Boolean(items.length) && <Button onClick={loadMore} />}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["instance","axios","baseURL","params","api_key","searchMovies","page","period","get","data","results","searchMoviesByWord","query","searchMoviesDetails","id","searchMoviesCast","searchMoviesReviews","onClick","className","styles","MoviesList","items","location","useLocation","elements","map","title","poster_path","release_date","vote_average","to","state","from","src","checkPoster","alt","width","height","Math","round","substring","defaultProps","img","noPoster","checkImage","noImage","onSubmit","useState","setState","e","preventDefault","value","type","name","onChange","target","autoComplete","autoFocus","placeholder","required","setItems","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","search","useEffect","fetchMoviesByWord","prevItems","message","Loader","Boolean","length","Button","Number"],"sourceRoot":""}