{"version":3,"file":"static/js/990.68929dc6.chunk.js","mappings":"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","sources":["api.js","webpack://react-homework-template/./src/components/Button/button.module.css?6dda","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesList/movies-list.module.css?3466","components/MoviesList/MoviesList.jsx","components/checkPoster/checkPoster.js","webpack://react-homework-template/./src/pages/Home/home.module.css?7b1b","pages/Home/Home.jsx"],"sourcesContent":["import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'ccd726dee91d403c616acd8dbc070a9c',\n  },\n});\n\nexport const searchMovies = async (page = 1, period = 'week') => {\n  const { data } = await instance.get(`/trending/movie/${period}`, {\n    params: { page },\n  });\n  return data.results;\n};\n\nexport const searchMoviesByWord = async (query, page = 1) => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: { query, page },\n  });\n  return data.results;\n};\n\nexport const searchMoviesDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {});\n  return data;\n};\n\nexport const searchMoviesCast = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {});\n  return data;\n};\nexport const searchMoviesReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {});\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__rr3yo\"};","import styles from './button.module.css';\nimport PropTypes from 'prop-types';\nconst Button = ({ onClick }) => {\n  return (\n    <button className={styles.button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"movies-list_link__nBtgH\",\"wrap\":\"movies-list_wrap__lBX16\",\"textcontainer\":\"movies-list_textcontainer__EBWVI\",\"list\":\"movies-list_list__QsEHr\",\"texttitle\":\"movies-list_texttitle__4PaOm\",\"vote\":\"movies-list_vote__URjjD\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './movies-list.module.css';\nimport { checkPoster } from 'components/checkPoster/checkPoster';\nimport { PropTypes } from 'prop-types';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(\n    ({ id, title, poster_path, release_date = '', vote_average }) => (\n      <li key={id} className={styles.item}>\n        <Link\n          to={`/movies/${id}`}\n          state={{ from: location }}\n          className={styles.link}\n        >\n          <div className={styles.wrap}>\n            <img\n              src={checkPoster(poster_path)}\n              alt={title}\n              width=\"240\"\n              height=\"345\"\n            />\n            <p className={styles.vote}>{Math.round(vote_average * 10)}%</p>\n            <div className={styles.textcontainer}>\n              <p className={styles.texttitle}>{title}</p>\n              <p className={styles.text}>{release_date.substring(0, 4)}</p>\n            </div>\n          </div>\n        </Link>\n      </li>\n    )\n  );\n  return <ul className={styles.list}>{elements}</ul>;\n};\n\nMoviesList.defaultProps = {\n  items: [],\n};\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n\nexport default MoviesList;\n","import noPoster from '../MovieDetailsInfo/no-poster-available.png';\nimport noImage from '../../pages/Cast/no-image.png';\n\nexport const checkPoster = img => {\n  if (img) {\n    return `https://image.tmdb.org/t/p/w500/${img}`;\n  }\n  return noPoster;\n};\n\nexport const checkImage = img => {\n  if (img) {\n    return `https://image.tmdb.org/t/p/w500/${img}`;\n  }\n  return noImage;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"home_wrap__QbSWw\"};","import { useState, useEffect } from 'react';\n\nimport MoviesList from '../../components/MoviesList/MoviesList';\nimport { searchMovies } from '../../api';\nimport Loader from 'components/Loader/Loader';\nimport Button from 'components/Button/Button';\n\nimport styles from './home.module.css';\n\nconst Home = () => {\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchTrendMovies = async () => {\n      try {\n        setLoading(true);\n        const data = await searchMovies(page);\n        setItems(prevItems => [...prevItems, ...data]);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTrendMovies();\n  }, [setItems, page]);\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className={styles.wrap}>\n      <h2>Trending today</h2>\n      {loading && <Loader />}\n      {error && <p>Error</p>}\n      <MoviesList items={items} />\n      {Boolean(items.length) && <Button onClick={loadMore} />}\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":["instance","axios","baseURL","params","api_key","searchMovies","page","period","get","data","results","searchMoviesByWord","query","searchMoviesDetails","id","searchMoviesCast","searchMoviesReviews","onClick","className","styles","MoviesList","items","location","useLocation","elements","map","title","poster_path","release_date","vote_average","to","state","from","src","checkPoster","alt","width","height","Math","round","substring","defaultProps","img","noPoster","checkImage","noImage","useState","setItems","setPage","loading","setLoading","error","setError","useEffect","fetchTrendMovies","prevItems","message","Loader","Boolean","length","Button","prevPage"],"sourceRoot":""}