{"version":3,"file":"static/js/227.df5c8974.chunk.js","mappings":"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","sources":["api.js","components/checkPoster/checkPoster.js","webpack://react-homework-template/./src/components/MovieDetailsInfo/movie-details-info.module.css?0c76","components/MovieDetailsInfo/MovieDetailsInfo.jsx","webpack://react-homework-template/./src/pages/MovieDetails/movie-details.module.css?13a9","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'ccd726dee91d403c616acd8dbc070a9c',\n  },\n});\n\nexport const searchMovies = async (page = 1, period = 'week') => {\n  const { data } = await instance.get(`/trending/movie/${period}`, {\n    params: { page },\n  });\n  return data.results;\n};\n\nexport const searchMoviesByWord = async (query, page = 1) => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: { query, page },\n  });\n  return data.results;\n};\n\nexport const searchMoviesDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {});\n  return data;\n};\n\nexport const searchMoviesCast = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {});\n  return data;\n};\nexport const searchMoviesReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {});\n  return data;\n};\n","import noPoster from '../MovieDetailsInfo/no-poster-available.png';\nimport noImage from '../../pages/Cast/no-image.png';\n\nexport const checkPoster = img => {\n  if (img) {\n    return `https://image.tmdb.org/t/p/w500/${img}`;\n  }\n  return noPoster;\n};\n\nexport const checkImage = img => {\n  if (img) {\n    return `https://image.tmdb.org/t/p/w500/${img}`;\n  }\n  return noImage;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"movie-details-info_container__TXCRS\",\"wrap\":\"movie-details-info_wrap__B1cyA\",\"data\":\"movie-details-info_data__u8a6j\",\"text\":\"movie-details-info_text__jwcnf\",\"textbig\":\"movie-details-info_textbig__7ImPQ\",\"list\":\"movie-details-info_list__3xUeO\",\"item\":\"movie-details-info_item__aB2hB\"};","import styles from './movie-details-info.module.css';\nimport { checkPoster } from 'components/checkPoster/checkPoster';\n\nconst MovieDetailsInfo = ({ props }) => {\n  const {\n    overview,\n    genres = [],\n    title,\n    release_date = '',\n    vote_average,\n    poster_path,\n  } = props;\n\n  const genreList = genres.map(genre => (\n    <li className={styles.item} key={genre.id}>\n      {genre.name}\n    </li>\n  ));\n\n  let year = release_date.substring(0, 4);\n  return (\n    <div className={styles.container}>\n      <img src={checkPoster(poster_path)} alt={title} width=\"250\" />\n      <div className={styles.wrap}>\n        <h2>\n          {title}\n          <span className={styles.data}>({year})</span>\n        </h2>\n        <p>User score: {Math.round(vote_average * 10)}%</p>\n        <p className={styles.text}>Overview</p>\n        <p className={styles.textbig}>{overview}</p>\n        <p className={styles.text}>Genres</p>\n        <ul className={styles.list}>{genreList}</ul>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetailsInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"movie-details_container__9Zseh\",\"title\":\"movie-details_title__s4PBE\",\"list\":\"movie-details_list__T4aAE\",\"item\":\"movie-details_item__dXFYi\",\"link\":\"movie-details_link__bPQN4\",\"btn\":\"movie-details_btn__7A9lB\"};","import {\n  useParams,\n  NavLink,\n  Outlet,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport { useState, useEffect, useCallback } from 'react';\nimport { searchMoviesDetails } from 'api';\nimport MovieDetailsInfo from 'components/MovieDetailsInfo/MovieDetailsInfo';\nimport Loader from 'components/Loader/Loader';\nimport styles from './movie-details.module.css';\n\nconst MovieDetails = () => {\n  const [details, setDetails] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      setLoading(true);\n      try {\n        const data = await searchMoviesDetails(id);\n\n        setDetails(data);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovieDetails();\n  }, [id, error]);\n\n  const goBack = useCallback(() => navigate(from), [navigate, from]);\n\n  return (\n    <>\n      {loading && <Loader />}\n      {error && <p>Error</p>}\n      <button className={styles.btn} onClick={goBack}>\n        &#8592; Go back\n      </button>\n      <MovieDetailsInfo props={details} />\n      <div className={styles.container}>\n        <h2 className={styles.title}>Additional information</h2>\n        <ul className={styles.list}>\n          <li className={styles.item}>\n            <NavLink to=\"cast\" state={{ from }} className={styles.link}>\n              Cast\n            </NavLink>\n          </li>\n          <li className={styles.item}>\n            <NavLink to=\"reviews\" state={{ from }} className={styles.link}>\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n        <Outlet />\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["instance","axios","baseURL","params","api_key","searchMovies","page","period","get","data","results","searchMoviesByWord","query","searchMoviesDetails","id","searchMoviesCast","searchMoviesReviews","checkPoster","img","noPoster","checkImage","noImage","props","overview","genres","title","release_date","vote_average","poster_path","genreList","map","genre","className","styles","name","year","substring","src","alt","width","Math","round","useState","details","setDetails","loading","setLoading","error","setError","useParams","navigate","useNavigate","from","useLocation","state","useEffect","fetchMovieDetails","message","goBack","useCallback","Loader","onClick","to"],"sourceRoot":""}